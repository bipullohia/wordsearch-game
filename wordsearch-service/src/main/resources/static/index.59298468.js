class e{constructor(){this.wordSelectedMode=!1,this.selectedItems=[],this.firstSelectedItem,this.gridSection,this.words=[],this.foundWords=[]}getCellsInRange(e,t){let d=[];if((e.x>t.x||e.y>t.y)&&([e,t]=[t,e]),e.x===t.x)for(let s=e.y;s<=t.y;s++)d.push(this.gridSection.querySelector(`td[data-x="${t.x}"][data-y="${s}"]`));else if(e.y===t.y)for(let s=e.x;s<=t.x;s++)d.push(this.gridSection.querySelector(`td[data-x="${s}"][data-y="${t.y}"]`));else if(e.y-t.y==e.x-t.x){let s=t.y-e.y;for(let t=0;t<=s;t++)d.push(this.gridSection.querySelector(`td[data-x="${e.x+t}"][data-y="${e.y+t}"]`))}return d}renderGrid(e,t){var d=document.getElementsByClassName("grid-section")[0];d.lastChild&&d.removeChild(d.lastChild),this.gridSection=d;const s=document.createElement("table"),i=document.createElement("tbody");let r=0;for(let d=0;d<e;d++){const s=document.createElement("tr");for(let i=0;i<e;i++){let e=t[r++];const l=document.createElement("td"),o=document.createTextNode(e);l.appendChild(o),l.setAttribute("data-x",d),l.setAttribute("data-y",i),l.setAttribute("data-letter",e),s.appendChild(l)}i.appendChild(s)}s.appendChild(i),document.body.appendChild(s),d.appendChild(s),s.addEventListener("mousedown",(e=>{this.wordSelectedMode=!0;let t=e.target,d=+t.getAttribute("data-x"),s=+t.getAttribute("data-y");this.firstSelectedItem={x:d,y:s}})),s.addEventListener("mousemove",(e=>{if(this.wordSelectedMode){let t=e.target,d=+t.getAttribute("data-x"),s=+t.getAttribute("data-y");this.selectedItems.forEach((e=>e.classList.remove("selected"))),this.selectedItems=this.getCellsInRange(this.firstSelectedItem,{x:d,y:s}),this.selectedItems.forEach((e=>e.classList.add("selected")))}})),s.addEventListener("mouseup",(()=>{this.wordSelectedMode=!1;const e=this.selectedItems.reduce(((e,t)=>e+t.getAttribute("data-letter")),""),t=e.split("").reverse().join("");-1!==this.words.indexOf(e)?this.foundWords.push(e):-1!==this.words.indexOf(t)?this.foundWords.push(t):this.selectedItems.forEach((e=>{e.classList.remove("selected")})),this.selectedItems=[]}))}}document.querySelector(".submit-words").onclick=function(){!async function(){const t=new e,d=document.getElementById("grid-words").value,s=document.getElementById("grid-size").value;t.words=d.split(",");const i=`./wordgrid?gridSize=${s}&wordList=${d}`;let r=await fetch(i),l=(await r.text()).split(" ");l=l.filter((e=>""!=e)),t.renderGrid(s,l);const o=document.createTextNode(t.words);let a=document.querySelector(".user-input-wordlist");a.lastChild&&a.removeChild(a.lastChild);a.appendChild(o)}()};
//# sourceMappingURL=index.59298468.js.map
